int process_user_input(const char *input, char *output, size_t output_size) { size_t input_len, copy_len; if (input == NULL || output == NULL || output_size == 0) { return -1; } input_len = strlen(input); copy_len = input_len < output_size - 1 ? input_len : output_size - 1; for (size_t i = 0; i < copy_len; i++) { unsigned char c = input[i]; if (isalnum(c) || c == ' ' || c == '.' || c == '-' || c == '_') { output[i] = c; } else { output[i] = ' '; } } output[copy_len] = '\0'; return 0; }