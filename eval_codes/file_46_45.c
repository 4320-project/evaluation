show_help(const ConsoleCommand * cc) { { char buf[MAX_BUF]; snprintf(buf, MAX_BUF - 1, "%s Command help:", get_category_name(cc->cat)); H1(buf); } if (cc->desc != NULL) { char buf[MAX_BUF]; snprintf(buf, MAX_BUF - 1, "%s - %s", cc->name, cc->desc); H2(buf); } else { H2(cc->name); } if (cc->helpfunc != NULL) { const char * long_help = NULL; long_help = cc->helpfunc(); if (long_help != NULL) { LINE(long_help); } else { LINE("This command's documentation is bugged!"); } } else { LINE("This command has no extended documentation. :("); } }