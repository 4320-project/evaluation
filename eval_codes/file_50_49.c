table_code(char *table) { int i; char *n, *t; d3_printf("searching table %s", table); for (i = 0; i < QTABLES; i++) { t = table; n = table_names[i]; while (*t && *n && (*n == *t)) { n++; t++; } if (*n) continue; if ((*t == '_') || (isalnum(*t))) continue; break; } if (i == QTABLES) { d4_printf("n|%s| t|%s| ", n, t); return -1; } else { d4_printf("table: %d -- %s", i, t); return i; } }